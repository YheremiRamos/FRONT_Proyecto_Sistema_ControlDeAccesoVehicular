<app-menu></app-menu>
<div class="container">
        <form id="idFormModalidad" [formGroup]="formRegistra">
                <div class="row">
                        <mat-toolbar color="primary" >    
                        <span>Registrar Libro</span>    
                        </mat-toolbar>  
                </div>
                <div  class="row">
                            <mat-form-field class="col-md-6">
                                <mat-label>Título</mat-label>
                                <input  matInput [(ngModel)]="objLibro.titulo" formControlName="validaTitulo">
                                <mat-hint style="color: red"  *ngIf="formRegistra.controls.validaTitulo.touched">
                                        <span *ngIf="formRegistra.controls.validaTitulo.hasError('required')">
                                            El título es requerido                        
                                        </span>
                                        <span *ngIf="formRegistra.controls.validaTitulo.hasError('pattern')">
                                            El título es de 3 a 30 caracteres                        
                                        </span>
                                  </mat-hint>
                            </mat-form-field>
                            <mat-form-field class="col-md-6">
                                <mat-label>Año</mat-label>
                                <input type="number"  matInput [(ngModel)]="objLibro.anio" formControlName="validaAnio">
                                <mat-hint style="color: red"  *ngIf="formRegistra.controls.validaAnio.touched">
                                        <span *ngIf="formRegistra.controls.validaAnio.hasError('required')">
                                            El año es requerido                        
                                        </span>
                                        <span *ngIf="formRegistra.controls.validaAnio.hasError('pattern')">
                                            El año es de 4 carateres                       
                                        </span>
                                  </mat-hint>
                            </mat-form-field>
                </div>
                <div  class="row">
                        <mat-form-field class="col-md-6">
                            <mat-label>Serie</mat-label>
                            <input  matInput [(ngModel)]="objLibro.serie"  formControlName="validaSerie">
                            <mat-hint style="color: red"  *ngIf="formRegistra.controls.validaSerie.touched">
                                <span *ngIf="formRegistra.controls.validaSerie.hasError('required')">
                                    La serie es requerida                      
                                </span>
                                <span *ngIf="formRegistra.controls.validaSerie.hasError('pattern')">
                                    La serie es de 12 carateres                       
                                </span>
                          </mat-hint>
                        </mat-form-field>
                        <mat-form-field class="col-md-6">
                                <mat-label>Categoria</mat-label>
                                <mat-select [(ngModel)]="objLibro.categoriaLibro!.idDataCatalogo"  formControlName="validaCategoriaLibro">
                                        <mat-option value="-1"> [Seleccione] </mat-option>
                                        <mat-option  *ngFor="let c of lstCategoria"  [value]="c.idDataCatalogo">
                                                {{c.descripcion}}
                                        </mat-option>   
                                </mat-select> 
                                <mat-hint style="color: red"  *ngIf="formRegistra.controls.validaCategoriaLibro.touched">
                                        <span *ngIf="formRegistra.controls.validaCategoriaLibro.hasError('min')">
                                            La Categoría es requerida                        
                                        </span>
                                    </mat-hint>
                        </mat-form-field>
                </div>
                <div  class="row">
                        <mat-form-field class="col-md-6">
                                <mat-label>Tipo</mat-label>
                                <mat-select [(ngModel)]="objLibro.tipoLibro!.idDataCatalogo"  formControlName="validaTipoLibro">
                                        <mat-option value="-1"> [Seleccione] </mat-option>
                                        <mat-option  *ngFor="let t of lstTipo" [value]="t.idDataCatalogo">
                                                {{t.descripcion}}
                                        </mat-option>   
                                </mat-select> 
                                <mat-hint style="color: red"  *ngIf="formRegistra.controls.validaTipoLibro.touched">
                                        <span *ngIf="formRegistra.controls.validaTipoLibro.hasError('min')">
                                            El Tipo es requerido                        
                                        </span>
                                    </mat-hint>
                        </mat-form-field> 
                        <mat-form-field class="col-md-6">
                                <mat-label>Editorial</mat-label>
                                <mat-select [(ngModel)]="objLibro.editorial!.idEditorial"  formControlName="validaEditorial">
                                        <mat-option value="-1"> [Seleccione] </mat-option>
                                        <mat-option  *ngFor="let e of lstEditorial" [value]="e.idEditorial">
                                                {{e.razonSocial}}
                                        </mat-option>   
                                </mat-select> 
                                <mat-hint style="color: red"  *ngIf="formRegistra.controls.validaEditorial.touched">
                                        <span *ngIf="formRegistra.controls.validaEditorial.hasError('min')">
                                            La Editorial es requerida                       
                                        </span>
                                </mat-hint>
                        </mat-form-field>
                </div>
                <div  class="row" >
                    <button mat-raised-button type="submit" color="primary" [disabled]="formRegistra.invalid" (click)="registrar()">Registra</button>
                </div>
        </form>
</div>