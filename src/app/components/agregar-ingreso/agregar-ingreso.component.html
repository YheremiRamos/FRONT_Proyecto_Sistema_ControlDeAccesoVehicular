<div class="main-container">
    <app-menu></app-menu>
    <div class="content">
        <div class="container">
            <mat-horizontal-stepper [linear]="true" #stepper>
                
                <!-- Paso 1: Datos del propietario -->
                <mat-step [stepControl]="formRegistra" optional="true">
                    <form [formGroup]="formRegistra">
                        <div class="row">
                            <mat-toolbar>
                                <h2>Datos del propietario</h2>
                            </mat-toolbar>
                        </div>
                        <div class="col-md-20" style="margin: 0 5%;">
                            <div class="row">
                                <div class="inputContent">
                                    <h5>1. DNI/Documento:</h5>
                                    <mat-form-field class="col-md-6">
                                        <mat-label>Ingrese el número de documento</mat-label>
                                        <input matInput [(ngModel)]="varDni" formControlName="validaDni">
                                        <mat-hint style="color: red" *ngIf="formRegistra.controls.validaDni.touched">
                                            <!-- Validaciones -->
                                        </mat-hint>
                                    </mat-form-field>
                                    <button mat-raised-button type="button" color="primary" (click)="buscarPorDni()">Buscar</button>
                                </div>
                            </div>
                            <!-- Otros campos del propietario -->
                            <div class="row">
                                <div class="inputContent">
                                    <h5>2. Nombres: </h5>
                                    <mat-form-field class="col-md-9">
                                        <input matInput formControlName="nombres" [disabled]="!habilitarRegistrar">
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div class="inputContent">
                                    <h5>3. Apellidos: </h5>
                                    <mat-form-field class="col-md-9">
                                        <input matInput formControlName="apellidos" [disabled]="!habilitarRegistrar">
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                        <div class="row btnEnd">
                            <button mat-raised-button color="primary" (click)="stepper.next()">Siguiente <mat-icon>arrow_forward</mat-icon></button>
                        </div>
                    </form>
                </mat-step>

                <!-- Paso 2: Datos del vehículo (incluye Espacio asignado) -->
                <mat-step [stepControl]="formRegistra" optional="true">
                    <form [formGroup]="formRegistra">
                        <div class="row">
                            <mat-toolbar>
                                <h2>Datos del vehículo</h2>
                            </mat-toolbar>
                        </div>
                        <div class="col-md-20" style="margin: 0 5%;">
                            <!-- Campos del vehículo -->
                            <div class="row">
                                <div class="inputContent">
                                    <h5>Tipo de vehículo:</h5>
                                    <mat-form-field class="col-md-6">
                                        <mat-label>Seleccione el tipo de vehículo</mat-label>
                                        <input matInput formControlName="validaTipoVehiculo">
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div class="inputContent">
                                    <h5>Placa:</h5>
                                    <mat-form-field class="col-md-6">
                                        <mat-label>Ingrese la placa del vehículo</mat-label>
                                        <input matInput formControlName="validaPlaca">
                                    </mat-form-field>
                                </div>
                            </div>

                            <!-- Espacio asignado dentro de Datos del vehículo -->
                            <div class="row">
                                <h3>Espacio asignado: A3</h3>
                            </div>
                        </div>
                        <div class="row btnEnd">
                            <button mat-raised-button color="primary" (click)="stepper.previous()">Atrás</button>
                            <button mat-raised-button color="primary" (click)="stepper.next()">Siguiente <mat-icon>arrow_forward</mat-icon></button>
                        </div>
                    </form>
                </mat-step>

                    <!-- Paso 3: Confirmación final -->
                    <mat-step>
                        <h3 style="text-align: center; font-weight: bold;">Revisión de datos ingresados:</h3>
                        <div class="confirmation-report" style="text-align: center;">
                            <p><strong>DNI:</strong> {{ formRegistra.value.validaDni }}</p>
                            <p><strong>Nombres:</strong> {{ formRegistra.value.nombres }}</p>
                            <p><strong>Apellidos:</strong> {{ formRegistra.value.apellidos }}</p>
                            <p><strong>Tipo de vehículo:</strong> {{ formRegistra.value.validaTipoVehiculo }}</p>
                            <p><strong>Placa:</strong> {{ formRegistra.value.validaPlaca }}</p>
                            <p><strong>Espacio asignado:</strong> A3</p>
                            <!-- Otros datos -->
                        </div>
                        <div class="row btnEnd" style="justify-content: center;">
                            <button mat-raised-button color="primary" (click)="stepper.previous()">Atrás</button>
                            <button mat-raised-button color="primary" (click)="guardarDatos()" style="margin-left: 10px;">Guardar</button>
                        </div>
                    </mat-step>


            </mat-horizontal-stepper>
        </div>
    </div>
</div>
